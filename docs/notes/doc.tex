\documentclass[10pt,a4paper]{report}
 \usepackage{booktabs}
\usepackage{float}
\usepackage{tabularx}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}


\usepackage{polski}
\usepackage[polish]{babel}
\usepackage[utf8]{inputenc}
\usepackage[polish]{babel}

\usepackage{indentfirst}

\usepackage{hyperref}
\hypersetup{
	colorlinks=true, %set true if you want colored links
	linktoc=all,     %set to all if you want both sections and subsections linked
	linkcolor=red,  %choose some color if you want links to stand out
}

\usepackage{tikz}
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;} 
\usepackage{color, colortbl}

\usepackage{geometry}
\geometry{legalpaper, margin=1in}

\newcommand{\img}[4]{
	\begin{figure}[H]
		\begin{center}
			\includegraphics[width=#1 cm, keepaspectratio=true]{#2}
			\caption{#3}
			\label{#4}
		\end{center}
	\end{figure}
}

\definecolor{Gray}{gray}{0.9}
\setcounter{secnumdepth}{4}

\title{Notatki do pracy inżynierskiej. \\ 8-bitowy przetwornik cyfrowo analogowy w technologii CMOS. \\ STAN : alpha}
\date{2018}
\author{Michał Czyż \\ student, WETI PG}

\begin{document}
	\maketitle
	
	\tableofcontents
	\newpage
	\chapter{Preliminaria.}
	\section{Abstract.}
	{	Goal of this thesis... \textcolor{red}{NA KONIEC UZUPEŁNIĆ.} }

	\section{Abstrakt.}
	{	Celem niniejszej pracy jest zaprojektowanie schematu i topografii masek 8-bitowego przetwornika cyfrowo analogowego w technologii CMOS AMS 180nm. \textcolor{red}{NA KONIEC UZUPEŁNIĆ.} }
	
	\section{Podziękowania.}
	{	Dziękujemy wszystkim ... . \textcolor{red}{NA KONIEC UZUPEŁNIĆ} }
	
	\chapter{Wstęp.}
	{	Konwertery sygnałów z postaci cyfrowej na analogową (i odwrotnie) są niezbędną częścią systemów elektronicznych, ponieważ umożliwiają komunikację pomiędzy zewnętrznym, analogowym światem i cyfrowymi rdzeniami układów krzemowych \cite{integconv}. Do przykładowych zastosowań konwerterów należą m.in. generowanie sygnału wizyjnego, fonicznego lub sygnałów sterowania np. dla układów radarowych czy konwerterów mocy. }
	
	{	Sygnałem wejściowym dla 8 bitowego przetwornika cyfrowo analogowego jest słowo cyfrowe $\mathcal{B}=\{b_7,b_6,...,b_0\}$. Bit $b_7$ nosi miano najstarszego bitu (MSB - Most Siginificant Bit), a bit $b_0$ to najmłodszy (LSB - Least Siginificant Bit). Sygnał wyjściowy to analogowe napięcie lub prąd $\mathcal{S}$ przeskalowany przez sygnał referencyjny $V_{ref}$. Zależność pomiędzy sygnałem wyjściowym i wejściowym to wtedy:
	\begin{equation}
	\mathcal{S} = V_{ref}\mathcal{B} = V_{ref} {\sum_{k=0}^{7}b_k2^k}
	\end{equation}

	}
	
	\section{Architektury konwerterów C/A. \cite{cmosanal} \cite{plassche}}
	{	Dokonuje się kilku podziałów konwerterów. Ze względu na liczbę przetwarzanych bitów wyróżnia się: \textbf{szeregowe}, czyli takie, które dokonują konwersji słowa cyfrowego bit po bicie oraz \textbf{równoległe}, czyli takie, które dokonują konwersji całego słowa jednocześnie. Jeżeli sygnał wyjściowy przetwornika jest stały w czasie dla ustalonego i podtrzymywanego słowa cyfrowego, to nazywamy taki przetwornik \textbf{statycznym}, w przeciwieństwie do przetworników \textbf{dynamicznych}, których sygnał wyjściowy zanika i wymaga odświeżania. }
	
	{	\textbf{Przetwornik z modulacją szerokości impulsów} dokonuje porównania słowa cyfrowego z liniowo rosnącym cyfrowym słowem odniesienia. Wygenerowany w ten sposób impuls o szerokości zależnej od wartości przetwarzanego słowa poddawany jest filtracji dolnoprzepustowej. Do wad tego rozwiązania należą mała szybkośc przetwarzania i konieczność stosowania filtów o wysokim tłumieniu w paśmie zaporowym. }
	
	{	\textbf{Przetwornik integracyjny z całkowaniem liniowym} również wykorzystuje mechanizm porównywania liczb cyfrowych do wygenerowania sygnału o modulowanej szerkości, który jest poddawany scałkowaniu, a następnie spróbkowaniu przez układ próbkująco pamiętający. Celem zwiększenia szybkości działania układu dokonuje się podzielenia słowa bitowego na część starszą i młodszą, a przetwarzanie obu części odbywa się równolegle. }
	
	{	\textbf{Przetworniki sieciowe ze skalowaniem} dokonują zamiany słowa cyfrowego na napięcia, prądy lub ładunki proporcjonalne (ważone) do wartości tego słowa. Sygnały z poszczególnych gałęzi sieci są sumowane, a sygnał wyjściowy podlega konwersji i/lub kondycjonowaniu do zadanej formy. Udaje się uzyskać rozdzielczość do 10-bitów.}
	
	{	\textbf{Przetwornik z kształtowaniem szumu} wykorzystuje filtry nadpróbkujące, układy kształtowania szumu, 1-bitowy przetwornik C/A i analogowy filtr wyjściowy. Uzyskuje się wysoką precyzję 16-18 bitów. \textcolor{red}{Czy przetworniki Nyquista, $\Sigma \Delta$ i nadpróbkujące to dokładnie to samo, bo tak to wygląda?} }
	
	{	\textbf{Przetwornik szeregowy z redystrybucją ładunku} wykorzystuje układ dwóch połączonych równolegle identycznych kondensatorów i kilka kluczy. Kondensator wejściowy jest ładowany lub rozładowywany w zależności od wartości kolejnych bitów, a następnie dołączany do kondensatora wyjściowego, co pozwala na dodanie lub odjęcie ładunku, a więc zwiększenie lub zmniejszenie wartości napięcia wyjściowego.
	}
	
	{	\textbf{Przetwornik algorytmiczny potokowy} składa się z sumatorów i bloków opóźnienia, które pozwalają na dodawanie przeskalowanych napięć referencyjnych w kolejnych blokach. \textcolor{red}{przepisać} }

	{	\textbf{Przetwornik algorytmiczny iteracyjny} w weźle układu próbkująco pamiętającego dodaje kolejne bity. \textcolor{red}{przepisać} }

	{ 	\textbf{Przetworniki segmentowe} to przetworniki składające się z połączenia dwóch lub więcej przetworników. Zazwyczaj łączone są przetowrniki o małej liczbie bitów w większe, aby zwiększyć rozdzielczość. }

	\section{Parametry statyczne przetworników C/A.(\textcolor{red}{Podać tylko te parametry, które będę mierzył.})}
	{	\textbf{Rozdzielczość} określa minimalną zmianę sygnału wyjściowego dla kolejnych słów cyfrowych. Odpowiada stosunkowi pełnego zakresu napięcia wyjściowego do liczby poziomów (różnych słów cyfrowych).
	}

	{	\textbf{Dokładność względna} to odchylenie wartości sygnału wyjściowego w stanie ustalonym od teoretycznej prostej wyznaczonej przez pełny zakres przetwarzania. }

	{	Sygnał wyjściowy przetwornika \textbf{monotonicznego} nie zmniejsza się dla wzrostu wejściowego słowa cyfrowego. }

	{	\textbf{Przesunięcie zera} to wartość sygnału wyjściowego dla sygnału wejściowego o wartości zero. }

	{ 	\textbf{Nieliniowość całkowa INL} to wartość bezwzględna sumy błędów nieliniowości dodatnich (lub ujemnych).}
	
	{ 	\textbf{Nieliniowość różniczkowa DNL} to zmiana sygnału wyjściowego w stosunku do LSB przy przejściu o jedno słowo cyfrowe obliczone dla każdego przejścia osobno. }

	\section{Parametry dynamiczne przetworników C/A.}
	{ \textbf{\textcolor{red}{Wymienić resztę.}}
	}

	{
		\begin{itemize}
			\item Stosunek sygnału do szumu.
			\item Maksymalna częstotliwośc próbkowania,
			\item PSRR.
		\end{itemize} 
	}


	\chapter{Zaprojektowany konwerter.}
	\section{Metodologia projektowania.}
	{	Projekt układu scalonego rozpoczyna się od sformułowania wymagań (specyfikacji) urządzenia lub systemu. W temacie niniejszej pracy 	sformułowano następujące wymagania na przetwornik:
		\begin{itemize}
			\item zasilany ze źródła napięcia stałego o wartości 1.8V,
			\item zaprojektowany w technologii CMOS AMS 180nm,
			\item osiąga szybkość konwersji powyżej 4 milionów próbek na sekundę (MSPS),
			\item ma 8-bitów rozdzielczości.
		\end{itemize} 
		Ponadto, projektant doprecyzował następujące parametry:
		\begin{itemize}
			\item sygnał wyjściowy to sygnał napięciowy o zakresie co najmniej od 0V do 1V,
			\item dopuszczalne obciążenie ma charakter rezystancyjny o minimalnej wartości $50\Omega$.
		\end{itemize} }
	
	{	Na podstawie wymagań należy zaproponować architekturę urządzenia na podstawie analizy obecnego stanu wiedzy technicznej lub przeprowadzić zgrubne (często ręczne) obliczenia, potwierdzające spełnienie wymagań. Po zapoznaniu się z literaturą wybór padł na konwerter skalujący prąd. Najistotniejsze motywacje tego wyboru to prostota schematu, wysoka szybkość działania \cite{cmosanal} oraz fakt, że poprzednie prace uzyskały do 10 bitów rozdzielczości \cite{plassche}.	Autorzy \cite{cmosanal} jako główne wady podają duży rozmiar oraz duży rozrzut wielkości elementów.}
	
	{	Blokowy schemat konwertera skalującego prąd znajduje sie na rysunku \ref{currentscale}. \textcolor{red}{Na rysunku są 4 prądy, można uogólnić ten obrazek lub dostosować do 8-bit?} Zasada działania jest następująca: słowo cyfrowe jest sygnałem sterującym sięć, która może wytwarzać prądy o różnych wartościach. Typowo, przypisuje sie prądom wagi dwójkowe, a kolejne bity słowa cyfrowego decydują o włączeniu/wyłączeniu gałęzi prądowej, co oznacza, że po zsumowaniu prądów wyjściowych otrzymujemy prąd o wartości  bezwzględnej równej wartości zakodowanej w słowie cyfrowym. W zależności od wymagań na sygnał wyjściowy, dokonuje się konwersji prądu wyjściowego na napięcie. 
		\img{20}{../visio/currentscale.pdf}{Schemat blokowy konwertera skalującego prąd}{currentscale}	}

	{	Typową praktyką jest doposażenie konwertera w rejestr wejściowy, aby ułatwić integrację przetwornika z innymi, cyfrowymi blokami systemu. W przypadku projektowania przetworników, które samodzielnie tworzą układ scalony umieszcza się także standardowe interfejsy cyfrowe, np. SPI lub I2C. Ponadto, na rynku dostępne są konwertery wyposażone w rejestr kontrolny, który umożliwia wykorzystanie dodatkowych funkcjonalności np. programowania wzmocnienia sygnału wyjściowego, autotestowania lub autokalibracji. \textcolor{red}{Czy na pewno tak się pisze autocosie?}
		\img{20}{../visio/blokschkonca.pdf}{Blokowy schemat konwertera C/A.}{blokschkonca} }

	{	Poprawnie zaprojektowane układy scalone charakteryzują się niewrażliwością na 3 istotne czynniki:
		\begin{itemize}
			\item rozrzut technologiczny (precyzja wykonania) parametrów elementów elektronicznych,
			\item zmiana temperatury,
			\item odchyłki napięcia zasilania od wartości nominalnej.
		\end{itemize}
		\textcolor{red}{Weźmiemy bandgap, wyjaśnić po co i jak. Matching tranzystorów. Przepisać ten fragment.}	}
	
	{	Kluczowym dla poprawnego działania konwertera skalowanego jest stabilne źródło napięcia odniesienia. Układy wytwarzane w technologii CMOS są wrażliwe na rorzut technologiczny parametrów elementów elektronicznych, zmieniają się ich właściwości pod wpływem zmian temperatury lub zmian wartości napięcia zasilania. Aby zapewnić stabilność napięcia odniesienia stosuje się układ bandgap. }

	{	Teoretyczne LSB u nas to 1/256 V. Zwrócić uwagę, czy po implementacji na wyjściu rejestru wyjściowego będą impulsy szpilkowe (glitch). Gdyby były one większe niż LSB to jest problem.
		}
	\chapter{Schemat elektryczny.}
	\section{Układ bandgap.}
	\section{Sięć ważonych prądów.}
	\section{Wyjściowy wzmacniacz transkonduktancyjny.}

	\section{Dowód poprawności działania.}

	\chapter{Pomiary parametrów.}
	\section{środowisko.}
	\section{Układ testujący do wyznaczenia x.}
	\section{Układ testujący do wyznaczenia y.}
	\section{Układ testujący do wyznaczenia z.}
	
	\chapter{Implementacja.}
	\section{środowisko.}
	\section{Technologia.}
	\section{Hierarchizacja projektu.}
	\subsection{Moduł 1.}
	\subsection{Moduł 2.}
	\subsection{Moduł 3.}
	\subsection{Moduł 4.}
	
	\section{Pomiary parametrów po ekstrakcji.}
	\subsection{Sposób pomiaru}
	Jak przed ekstrakcją.
	\subsection{Rozmiar układu, liczba tranzystorów.}

	\chapter{Podsumowanie}
	\section{Weryfikacja osiągniętych celów.}
	
	
	\appendix
	%insert chapters	
.
	\begin{thebibliography}{9}
		%%moje z knovela
		\bibitem{integconv} 
		Jespers, Paul G.A.. (2001). 
		\textit{Integrated Converters - D to A and A to D Architectures, Analysis and Simulation.}
		Oxford University Press
		
		\bibitem{cmosanal} 
		Allen, Phillip E. Holberg, Douglas R.. (2012)  
		\textit{CMOS Analog Circuit Design (3rd Edition). }
		Oxford University Press.
		
		\bibitem{vlsidesign} 
		Das, Debaprasad. (2015).
		\textit{VLSI Design (2nd edition)}
		Oxford University Press.
		%%z opisu tematu od profa allen cmos sie pokrywa z moim wyborem
		\bibitem{plassche} 
		R. Plassche (2001). 
		\textit{Scalone przetworniki analogowo-cyfrowe i cyfrowo-analogowe,}
		WKŁ 2001
	\end{thebibliography}

\end{document}
